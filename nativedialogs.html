<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <script type="module" src="customdialog.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.3.10/purify.min.js"></script>
</head>
<body>

    <h1>Simple Dialogs</h1>
    <button onclick="alertFunction()" id="alert">Alert</button>
    <button onclick="confirmFunction()" id="confirm">Confirm</button>
    <button onclick="promptFunction()" id="prompt">Prompt</button>
    <button onclick ="saferPromptFunction()" id="saferPrompt">Safer Prompt</button>

    <hr/>

    <output id="result"></output>

    <script>

        function alertFunction() {

            alert("Alert button pressed!");
        }

        function cleanData(userInput) {
            return DOMPurify.sanitize(userInput);
        }

        function confirmFunction() {
            let text = "Do you confirm this?";
            if (confirm(text) == true) {
                text = `Confirm result: true`;
            }
            else {
                text = `Confirm result: false`;
            }
            document.getElementById("result").style.display = "block";
            document.getElementById("result").innerHTML = text;
        }


        function promptFunction() {
            let name = prompt("What is your name?");
            if (name != null && name != "") {
                document.getElementById("result").style.display = "block";
                document.getElementById("result").innerHTML = `Prompt result: ${name}`;
            }
            else {
                document.getElementById("result").style.display = "block";
                document.getElementById("result").innerHTML = "Prompt result: User didn't enter anything";
            }
        }

        function saferPromptFunction() {
            let name = prompt("What is your name?");
            if (name != null && name != "") {
                document.getElementById("result").style.display = "block";
                const data = cleanData(`Prompt result: ${name}`);
                document.getElementById("result").innerHTML = data;
            }
            else {
                document.getElementById("result").style.display = "block";
                document.getElementById("result").innerHTML = "Prompt result: User didn't enter anything";
            }
        }

        
    </script>
</body>

</html>